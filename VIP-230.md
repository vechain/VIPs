---
VIP: 230
Title: Support `debug_traceCall`
Author: Andreas Papageorgiou (andreas.papageorgiou@electiconsulting.com)
Category: Interface
Status: Draft
CreatedAt: 2023-7-3
---

# Overview
Extend Thor's API to support `debug_traceCall`, similar to `debug_traceTransaction` but for `call` operations.

# Rationale
According to [EIP-4337](https://eips.ethereum.org/EIPS/eip-4337)'s specification:
> To simulate a `UserOperation` validation, the client makes a view call to `simulateValidation(userop)`
>
> ...
>
> While simulating `userOp` validation, the client should make sure that:
>
> - May not invokes any **forbidden opcodes**

Existing implementations of [EIP-4337 Bundler](https://github.com/eth-infinitism/bundler)
implement such checks via the `debug_traceCall` method.

This method is not available through Thor's API. Providing it would enable full support of EIP-4337 on VeChain.

# Specification
- [`debug_traceCall` specification](https://geth.ethereum.org/docs/interacting-with-geth/rpc/ns-debug#debugtracecall)
- [Sample request and response](../assets/vip230.md)

Support for this method should be provided through [web3-providers-connex](https://github.com/vechain/web3-providers-connex).

# References
- [EIP-4337](https://eips.ethereum.org/EIPS/eip-4337)
- [EIP-4337 Bundler](https://github.com/eth-infinitism/bundler)
- [web3-providers-connex](https://github.com/vechain/web3-providers-connex)
- [`debug_traceCall` specification](https://geth.ethereum.org/docs/interacting-with-geth/rpc/ns-debug#debugtracecall)